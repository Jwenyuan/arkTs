import router from '@ohos.router'
import HelloComponent from './helloComponent'
import HelloComponent2 from './HelloComponent2'

@Styles function GlobalStyles() {
  .margin(20)
}
/* @Entryè£…é¥°çš„ç»„ä»¶å°†ä½œä¸ºUIé¡µé¢çš„å…¥å£ï¼Œå•é¡µé¢æœ€å¤šå¯ä»¥ä½¿ç”¨ä¸€ä¸ª */
// å¯é€‰LocalStorageå‚æ•°
@Entry
@Component
struct Index {
  @State message: string = 'Hello World'
  @State num: number = 1

  // é¡µé¢æ¯æ¬¡æ˜¾ç¤ºæ—¶ï¼ˆè·¯ç”±åŠåº”ç”¨è¿›å…¥å‰å°ï¼‰
  onPageShow() {
    console.log('onPageShow')
  }
  // é¡µé¢æ¯æ¬¡éšè—æ—¶ï¼ˆè·¯ç”±åŠåº”ç”¨è¿›å…¥åŽå°ï¼‰
  onPageHide() {
    console.log('onPageHide')
  }

  // ç”¨æˆ·ç‚¹å‡»è¿”å›žæŒ‰é’®æ—¶
  onBackPress() {
    console.log('onBackPress')
  }

  handleHover = () => {
    console.log('q==>> aa')
  }

  handleBtnClick () {
    if (this.message === 'Hello World') {
      this.message = 'Hello ArkTS'
    } else {
      this.message = 'Hello World'
    }
  }
  // å‡½æ•°ä½¿ç”¨bindè°ƒç”¨
  func () {
    this.message = 'hi'
  }

  @Builder componentBuilder() {
    Text('çˆ¶ç»„ä»¶å†…çš„è‡ªå®šä¹‰æž„å»ºå‡½æ•°,builderParamä¼ å…¥')
  }

  build() {
    // å®¹å™¨ç»„ä»¶ï¼š Rowã€Columnã€Stackã€Gridã€Listç­‰
    Row() {
      Column() {
        Row() {
          Button('back')
            .onClick(() => {
              router.back()
            })
          Image('https://img1.baidu.com/it/u=1965663592,580944689&fm=253&app=120&size=w931&n=0&f=JPEG&fmt=auto?sec=1713546000&t=c69d4564d16a3b0b57e5726b3475d7f6')
            .width(180)
            .GlobalStyles()
        }
        Text(this.message + ' ðŸ˜')
          .onClick(this.handleHover)
        Button('ç‚¹å‡»åˆ‡æ¢ä¸Šæ–¹æ–‡æ¡ˆ')
          .fontSize(24)
          .GlobalStyles()
          .onClick(this.handleBtnClick.bind(this))
        Button('å¤šæ€æ ·å¼')
          .stateStyles({
            focused: {
              .backgroundColor(Color.Pink)
            },
            pressed: {
              .backgroundColor(Color.Orange)
            }
          })

        // è‡ªå®šä¹‰ç»„ä»¶
        HelloComponent({ textContent: 'è‡ªå®šä¹‰ç»„ä»¶ä¼ å…¥æ–‡æ¡ˆ1', customComponentBuilderParam: this.componentBuilder })
        // HelloComponent({ textContent: 'è‡ªå®šä¹‰ç»„ä»¶ä¼ å…¥æ–‡æ¡ˆ2' })
        // è‡ªå®šä¹‰ç»„ä»¶é“¾å¼è®¾ç½®æ ·å¼æ—¶ï¼Œç›¸å½“äºŽåœ¨ç»„ä»¶å¤–å¥—äº†ä¸€ä¸ªä¸å¯è§çš„å®¹å™¨ç»„ä»¶
        HelloComponent2({btnText: 'ç‚¹å‡»åˆ‡æ¢ä¸‹æ–¹æŒ‰é’®'})
          .width(200)
          .backgroundColor(Color.Red)
          .margin(20)
          .onClick(() => {this.num += 1})
        if (this.num % 2) {
          HelloComponent2({ btnText: 'ç¬¬ä¸€ä¸ªæŒ‰é’®' })
        } else {
          HelloComponent2({ btnText: 'ç¬¬äºŒä¸ªæŒ‰é’®' })
        }
      }.width('100%')
    }.height('100%')
  }
}
